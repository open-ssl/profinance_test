from decimal import Decimal

BTC_TEST_DATA = [{'symbol': 'BTCUSDT', 'id': 3059593285, 'orderId': 20616682089, 'orderListId': -1, 'price': '26873.01000000', 'qty': '0.07442000', 'quoteQty': '1999.88940420', 'commission': '0.00007442', 'commissionAsset': 'BTC', 'time': 1679931517329, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3072310481, 'orderId': 20728420613, 'orderListId': -1, 'price': '28000.00000000', 'qty': '0.07142000', 'quoteQty': '1999.76000000', 'commission': '0.00007142', 'commissionAsset': 'BTC', 'time': 1680719210929, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3074985238, 'orderId': 20751051395, 'orderListId': -1, 'price': '27921.01000000', 'qty': '0.00875000', 'quoteQty': '244.30883750', 'commission': '0.00000875', 'commissionAsset': 'BTC', 'time': 1681033668515, 'isBuyer': True, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3074985239, 'orderId': 20751051395, 'orderListId': -1, 'price': '27921.01000000', 'qty': '0.00053000', 'quoteQty': '14.79813530', 'commission': '0.00000053', 'commissionAsset': 'BTC', 'time': 1681033668515, 'isBuyer': True, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3074985240, 'orderId': 20751051395, 'orderListId': -1, 'price': '27921.01000000', 'qty': '0.06235000', 'quoteQty': '1740.87497350', 'commission': '0.00006235', 'commissionAsset': 'BTC', 'time': 1681033668515, 'isBuyer': True, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3075314636, 'orderId': 20753356888, 'orderListId': -1, 'price': '28133.27000000', 'qty': '0.07156000', 'quoteQty': '2013.21680120', 'commission': '2.01321680', 'commissionAsset': 'USDT', 'time': 1681070794539, 'isBuyer': False, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3076700253, 'orderId': 20763097745, 'orderListId': -1, 'price': '29613.35000000', 'qty': '0.06750000', 'quoteQty': '1998.90112500', 'commission': '0.00006750', 'commissionAsset': 'BTC', 'time': 1681166195488, 'isBuyer': True, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3077456443, 'orderId': 20768619879, 'orderListId': -1, 'price': '30033.06000000', 'qty': '0.06743000', 'quoteQty': '2025.12923580', 'commission': '2.02512924', 'commissionAsset': 'USDT', 'time': 1681206569271, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3077652123, 'orderId': 20770215139, 'orderListId': -1, 'price': '30195.61000000', 'qty': '0.06623000', 'quoteQty': '1999.85525030', 'commission': '0.00006623', 'commissionAsset': 'BTC', 'time': 1681222559136, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3079988264, 'orderId': 20790276878, 'orderListId': -1, 'price': '30400.00000000', 'qty': '0.06616000', 'quoteQty': '2011.26400000', 'commission': '2.01126400', 'commissionAsset': 'USDT', 'time': 1681396601516, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3083998375, 'orderId': 20822158568, 'orderListId': -1, 'price': '29591.77000000', 'qty': '0.06758000', 'quoteQty': '1999.81181660', 'commission': '0.00006758', 'commissionAsset': 'BTC', 'time': 1681732957858, 'isBuyer': True, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3084837081, 'orderId': 20829678583, 'orderListId': -1, 'price': '29730.00000000', 'qty': '0.05668000', 'quoteQty': '1685.09640000', 'commission': '1.68509640', 'commissionAsset': 'USDT', 'time': 1681806965214, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3084837083, 'orderId': 20829678583, 'orderListId': -1, 'price': '29730.00000000', 'qty': '0.01084000', 'quoteQty': '322.27320000', 'commission': '0.32227320', 'commissionAsset': 'USDT', 'time': 1681806965351, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3086318397, 'orderId': 20841232928, 'orderListId': -1, 'price': '29290.00000000', 'qty': '0.02314000', 'quoteQty': '677.77060000', 'commission': '0.00002314', 'commissionAsset': 'BTC', 'time': 1681894350358, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3086318398, 'orderId': 20841232928, 'orderListId': -1, 'price': '29290.00000000', 'qty': '0.03000000', 'quoteQty': '878.70000000', 'commission': '0.00003000', 'commissionAsset': 'BTC', 'time': 1681894350367, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3086318399, 'orderId': 20841232928, 'orderListId': -1, 'price': '29290.00000000', 'qty': '0.00928000', 'quoteQty': '271.81120000', 'commission': '0.00000928', 'commissionAsset': 'BTC', 'time': 1681894350405, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3086318401, 'orderId': 20841232928, 'orderListId': -1, 'price': '29290.00000000', 'qty': '0.00586000', 'quoteQty': '171.63940000', 'commission': '0.00000586', 'commissionAsset': 'BTC', 'time': 1681894350424, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3095235574, 'orderId': 20922963094, 'orderListId': -1, 'price': '29850.00000000', 'qty': '0.06821000', 'quoteQty': '2036.06850000', 'commission': '2.03606850', 'commissionAsset': 'USDT', 'time': 1682517196936, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096030597, 'orderId': 20928567526, 'orderListId': -1, 'price': '27792.08000000', 'qty': '0.07186000', 'quoteQty': '1997.13886880', 'commission': '0.00007186', 'commissionAsset': 'BTC', 'time': 1682540012487, 'isBuyer': True, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096187657, 'orderId': 20929580737, 'orderListId': -1, 'price': '28000.00000000', 'qty': '0.07179000', 'quoteQty': '2010.12000000', 'commission': '2.01012000', 'commissionAsset': 'USDT', 'time': 1682542128979, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096206756, 'orderId': 20929739669, 'orderListId': -1, 'price': '28257.77000000', 'qty': '0.07077000', 'quoteQty': '1999.80238290', 'commission': '0.00007077', 'commissionAsset': 'BTC', 'time': 1682542420029, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096234939, 'orderId': 20929942535, 'orderListId': -1, 'price': '28434.17000000', 'qty': '0.00654000', 'quoteQty': '185.95947180', 'commission': '0.18595947', 'commissionAsset': 'USDT', 'time': 1682542807252, 'isBuyer': False, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096234940, 'orderId': 20929942535, 'orderListId': -1, 'price': '28433.95000000', 'qty': '0.00040000', 'quoteQty': '11.37358000', 'commission': '0.01137358', 'commissionAsset': 'USDT', 'time': 1682542807252, 'isBuyer': False, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096234941, 'orderId': 20929942535, 'orderListId': -1, 'price': '28432.98000000', 'qty': '0.00700000', 'quoteQty': '199.03086000', 'commission': '0.19903086', 'commissionAsset': 'USDT', 'time': 1682542807252, 'isBuyer': False, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096234942, 'orderId': 20929942535, 'orderListId': -1, 'price': '28431.90000000', 'qty': '0.00666000', 'quoteQty': '189.35645400', 'commission': '0.18935645', 'commissionAsset': 'USDT', 'time': 1682542807252, 'isBuyer': False, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3096234943, 'orderId': 20929942535, 'orderListId': -1, 'price': '28430.82000000', 'qty': '0.05010000', 'quoteQty': '1424.38408200', 'commission': '1.42438408', 'commissionAsset': 'USDT', 'time': 1682542807252, 'isBuyer': False, 'isMaker': False, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3101097799, 'orderId': 20977032469, 'orderListId': -1, 'price': '29300.00000000', 'qty': '0.06825000', 'quoteQty': '1999.72500000', 'commission': '0.00006825', 'commissionAsset': 'BTC', 'time': 1682886913765, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3113319544, 'orderId': 21095930814, 'orderListId': -1, 'price': '27330.00000000', 'qty': '0.07318000', 'quoteQty': '2000.00940000', 'commission': '0.00007318', 'commissionAsset': 'BTC', 'time': 1683740814499, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3121191541, 'orderId': 21184990079, 'orderListId': -1, 'price': '26535.71000000', 'qty': '0.08942000', 'quoteQty': '2372.82318820', 'commission': '0.00008942', 'commissionAsset': 'BTC', 'time': 1684433853247, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3121191542, 'orderId': 21184990079, 'orderListId': -1, 'price': '26535.71000000', 'qty': '0.02364000', 'quoteQty': '627.30418440', 'commission': '0.00002364', 'commissionAsset': 'BTC', 'time': 1684433853278, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3129506235, 'orderId': 21286119124, 'orderListId': -1, 'price': '28000.00000000', 'qty': '0.25423000', 'quoteQty': '7118.44000000', 'commission': '7.11844000', 'commissionAsset': 'USDT', 'time': 1685443750101, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3130783280, 'orderId': 21301577677, 'orderListId': -1, 'price': '27040.00000000', 'qty': '0.00939000', 'quoteQty': '253.90560000', 'commission': '0.00000939', 'commissionAsset': 'BTC', 'time': 1685563164007, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3130783281, 'orderId': 21301577677, 'orderListId': -1, 'price': '27040.00000000', 'qty': '0.02700000', 'quoteQty': '730.08000000', 'commission': '0.00002700', 'commissionAsset': 'BTC', 'time': 1685563164007, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3130783282, 'orderId': 21301577677, 'orderListId': -1, 'price': '27040.00000000', 'qty': '0.02700000', 'quoteQty': '730.08000000', 'commission': '0.00002700', 'commissionAsset': 'BTC', 'time': 1685563164007, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3130783283, 'orderId': 21301577677, 'orderListId': -1, 'price': '27040.00000000', 'qty': '0.01057000', 'quoteQty': '285.81280000', 'commission': '0.00001057', 'commissionAsset': 'BTC', 'time': 1685563164009, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'BTCUSDT', 'id': 3149375383, 'orderId': 21517334730, 'orderListId': -1, 'price': '28130.00000000', 'qty': '0.07389000', 'quoteQty': '2078.52570000', 'commission': '2.07852570', 'commissionAsset': 'USDT', 'time': 1687294027478, 'isBuyer': False, 'isMaker': True, 'isBestMatch': True}]
ETH_TEST_DATA = [{'symbol': 'ETHUSDT', 'id': 1158185579, 'orderId': 13540523739, 'orderListId': -1, 'price': '1867.00000000', 'qty': '1.07120000', 'quoteQty': '1999.93040000', 'commission': '0.00107120', 'commissionAsset': 'ETH', 'time': 1685541602173, 'isBuyer': True, 'isMaker': True, 'isBestMatch': True}, {'symbol': 'ETHUSDT', 'id': 1177021310, 'orderId': 13850943786, 'orderListId': -1, 'price': '1949.79000000', 'qty': '1.07010000', 'quoteQty': '2086.47027900', 'commission': '2.08647028', 'commissionAsset': 'USDT', 'time': 1689265236029, 'isBuyer': False, 'isMaker': False, 'isBestMatch': True}]
RESULT_INFO = {'BTCUSDT': {'operations_count': 36, 'avg_symbol_price': Decimal('27601.92881556791622040181279'), 'avg_symbol_quantity': Decimal('0.14569186')}, 'ETHUSDT': {'operations_count': 2, 'avg_symbol_price': Decimal('1867.00000000'), 'avg_symbol_quantity': Decimal('0.00002880')}}


ETALON_BTC_COUNT_OPERATIONS = 36
ETALON_ETH_COUNT_OPERATIONS = 2

ETALON_BTC_AVG_PRICE = Decimal(27601.92)
ETALON_ETH_AVG_PRICE = Decimal(1867.00)

ETALON_BTC_QUANTITY = Decimal(0.14569186)
ETALON_ETH_QUANTITY = Decimal(0.00002880)
